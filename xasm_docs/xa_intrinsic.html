<html>
	<head>
		<meta charset="UTF-8">
		<title>Встроенные функции Engine XA</title>
		<style type="text/css">
			body {
				font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif
			}
			h1 {
				font-weight: normal;
			}
			h2 {
				font-weight: normal;
			}
			table {
				text-align: center;
				border-color: #404040;
				border-style: double;
				margin-top: 5pt;
				margin-bottom: 5pt;
			}
			td {
				border-color: #404040;
				border-style: dotted;
			}
			.code {
				font-family: 'Courier New', Courier, monospace;
				font-weight: bolder;
			}
			.red {
				background-color: #FF8080;
			}
			.green {
				background-color: #80FF80;
			}
			.bold {
				font-weight: bold;
			}
		</style>
	</head>
	<body>
		<h1>Встроенные функции Engine XA</h1>
		<h2>Типы данных</h2>
		<p>Тип данных <b>указателя</b> хранит адрес другого объекта. Имеет размер W 1.</p>
		<p><b>Логический</b> тип данных хранит значение ИСТИНА, если младший байт не 0 и ЛОЖЬ, если младший байт 0. Имеет размер 1, 2, 4 или 8.
			Интерпретация старших байт зависит от реализации.</p>
		<p><b>Целочисленный</b> тип данных хранит целое число. Может иметь размер 1, 2, 4 или 8.</p>
		<h2>Встроенные функции общего назначения</h2>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				PTR_FOLLOW
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				W 1 => N<br>N&ge;0
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Получает на вход указатель, возвращает объект, на который указатель указывает.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				PTR_TAKE
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N => W 1<br>N&ge;0
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Получает на вход объект, возвращает указатель на него.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				OFFSET
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N K => M<br>или<br>
				N K L => M
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает вложенный в первый аргумент объект, находящийся внутри него по смещению K или K * L (зависит от интерфейса).
				Если в качестве второго или третьего аргумента указано '-', то значение соответствующего сдвига
				как константа указывается в интерфейсе вызова (вместо K или L).
				Иначе на вход поступают динамически вычисляемые сдвиги, тогда K или L должны быть равны W 1.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				BLT
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N&gt;0
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Копирует N байт из второго аргумента в первый. Возвращает первый аргумент.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				CALL
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				W 1 N1 N2 ... Nk => M<br>Ni, M&ge;0
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Осуществляет непрямой вызов подпрограммы, на которую указывает первый аргумент.
				Остальные аргументы передаются подпрограмме как её аргументы. Для возвращаемого значения можно задать финализатор.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				NEW
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				0 => N<br>N&ge;0
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Создаёт временное значение размер N и вычисляет первый аргумент в целях его инициализации.
				Новый объект при инициализации доступен через регистр I (временно перекрывает текущий I, если он определён).
				Возвращает новый объект.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				BREAKIF
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N M K => N<br>N&ge;0; M=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет первый и второй аргументы.
				Если второй аргумент истинен, то прерывает вычисление дерева и совершает переход (JUMP) по относительному смещению,
				заданному в интерфейсе вызова как размер третьего параметра. Сам третий параметр должен быть '-'.
				При этом финализируются все временные и необходимые локальные значения.
				Значения, находящиеся в состоянии инициализации (связанные с регистром I) не финализируются.
				Если второй аргумент ложен, то возвращает значение первого аргумента.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				SPLIT
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N => N<br>N&ge;0
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет аргумент и передаёт его вызывающей стороне. Сохраняет копию в регистр S.
			</td></tr>
		</table>
		<h2>Встроенные функции логических преобразований</h2>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				ALL
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N ... N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет логическое "и" аргументов слева направо. Второй и последующие аргументы не вычисляются, если ранее была вычислена ЛОЖЬ.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				ANY
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N ... N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет логическое "или" аргументов слева направо. Второй и последующие аргументы не вычисляются, если ранее была вычислена ИСТИНА.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				FORK
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N 0 0 => 0<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Если первый аргумент истинен, то вычисляет второй аргумент, иначе третий.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				NOT
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет логическое отрицание.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				SAME
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Проверяет аргументы на равенство в смысле логического равенства.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				NOTSAME
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Проверяет аргументы на не равенство в смысле логического равенства.
			</td></tr>
		</table>
		<h2>Встроенные функции векторных преобразований</h2>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				AND
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет побитовое "и" аргументов.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				OR
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет побитовое "или" аргументов.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				XOR
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет побитовое исключающее "или" аргументов.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				INVERSE
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет побитовое дополнение (инверсию) аргумента.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				SHL
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет битовый сдвиг первого аргумента влево на количество разрядов, указанное во втором.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				SHR
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет битовый сдвиг первого аргумента вправо на количество разрядов, указанное во втором.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				SAL
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет битовый сдвиг первого аргумента влево на количество разрядов, указанное во втором.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				SAR
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Вычисляет битовый сдвиг первого аргумента вправо на количество разрядов, указанное во втором, с репликацией старшего бита.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				ZERO
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает ИСТИНУ, если аргумент тождественный 0.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				NOTZERO
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает ИСТИНУ, если аргумент не тождественный 0.
			</td></tr>
		</table>
		<h2>Встроенные функции сравнения</h2>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				EQ
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает ИСТИНУ, если аргументы равны (побитово).
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				NEQ
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает ИСТИНУ, если аргументы не равны (побитово).
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				U_LE, S_LE
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает ИСТИНУ, если первый аргумент меньше или равен второго.
				Префикс U используется для беззнакового сравнения, префикс S для знакового.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				U_GE, S_GE
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает ИСТИНУ, если первый аргумент больше или равен второго.
				Префикс U используется для беззнакового сравнения, префикс S для знакового.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				U_L, S_L
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает ИСТИНУ, если первый аргумент меньше второго.
				Префикс U используется для беззнакового сравнения, префикс S для знакового.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				U_G, S_G
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает ИСТИНУ, если первый аргумент больше второго.
				Префикс U используется для беззнакового сравнения, префикс S для знакового.
			</td></tr>
		</table>
		<h2>Встроенные функции арифметических преобразований</h2>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				U_RESIZE, S_RESIZE
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N => M<br>N, M=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Изменяет байтовый размер целочисленного значения, интерпретируя его как беззнаковое (U_RESIZE) или как знаковое (S_RESIZE).
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				NEG
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает значение, обратное аргументу относительно сложения.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				ABS
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает абсолютную величину аргумента.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				ADD
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает сумму первого и второго аргументов.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				SUB
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает разность первого и второго аргументов.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				U_MUL, S_MUL
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает произведение первого и второго аргументов.
				Префикс U или S определяет интерпретацию аргументов как знаковых или беззнаковых чисел.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				U_DIV, S_DIV
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает частное от деления первого аргумента на второй.
				Префикс U или S определяет интерпретацию аргументов как знаковых или беззнаковых чисел.
			</td></tr>
		</table>
		<table>
			<tr><td class="bold">Псевдоним функции</td><td>
				U_MOD, S_MOD
			</td></tr>
			<tr><td class="bold">Интерфейс функции</td><td>
				N N => N<br>N=1, 2, 4, 8
			</td></tr>
			<tr><td class="bold">Описание функции</td><td>
				Возвращает остаток от деления первого аргумента на второй.
				Префикс U или S определяет интерпретацию аргументов как знаковых или беззнаковых чисел.
			</td></tr>
		</table>
	</body>
</html>